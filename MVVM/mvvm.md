# MVVM

- MVVM 패턴
- `Model + View + ViewModel` 을 합친 용어

## 구조

- `Model`
  - 어플리케이션에서 사용되는 데이터와 그 데이터를 처리하는 부분
  - 비즈니스 로직과 유효성 검사와 데이터를 포함하는 앱의 도메인 모델로 생각
  - 모델은 앱에서 사용할 데이터에 관련된 행위와 데이터를 다룸
- `View`
  - 사용자에서 보여지는 UI
  - 사용자가 스크린을 통해서 보는 것들에 대한 구조, 레이아웃, 형태를 정의하는 것
  - 애니메이션 같은 UI 로직을 포함하되 비즈니스 로직을 포함하지 말아야함
- `View Model`
  - `View` 를 표현하기 위해 만든 `View` 를 위한 `Model`
  - `View` 를 나타내주기 위한 `Model` 이자 `View` 를 나타내기 위한 데이터 처리를 하는 부분
  - 뷰가 사용할 메서드와 필드를 구현
  - 뷰에게 상태 변화를 알림 → 뷰는 뷰 모델의 상태 변화를 옵저빙함
  - 일반적으로 뷰 모델과 모델은 1 : n 관계를 형성
  - 뷰 모델은 뷰가 쉽게 사용할 수 있도록 모델의 데이터를 가공해서 뷰에게 제공
    <br/> ex. 뷰에서 서로 다른 두 모델의 데이터를 활용한 데이터가 필요하다면?
    - 뷰에서 모델의 값을 조작해서 사용하는 것이 아닌, 뷰 모델에서 두 모델의 데이터를 가공하고 뷰에서는 오직 UI 만 다루도록 해야함

## 동작

1. 사용자의 `Action` 들이 `View` 를 통해 들어옴
2. `View` 에 `Action` 이 들어오면 `Command` 패턴으로 `View Model`에 `Action` 전달
3. `View Model`은 `Model` 에 데이터를 요청함
4. `Model` 은 `View Model` 에게 요청받은 데이터를 응답
5. `View Model` 은 응답 받은 데이터를 가공해 저장
6. `View` 는 `View Model`과 데이터 바인딩을 해 화면을 나타냄

## 특징

- `MVVM 패턴`은 `Command` 패턴과 `DataBinding` 두 가지 패턴을 사용해 구현됨
- Command 패턴과 DataBinding 을 이용해 `View` 와 `View Model` 사이의 의존성을 없앰

## 장점

- MVVM 패턴은 View 와 Model 사이의 의존성이 없음
- Command 패턴과 데이터 바인딩을 사용해 뷰와 뷰모델 사이의 의존성 또한 없앤 디자인 패턴
- 각각의 부분은 독립적이어서 모듈화해 개발할 수 있음

## 단점

- MVVM 패턴의 단점은 뷰모델의 설계가 쉽지 않다는 점
